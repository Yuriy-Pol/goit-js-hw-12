import{i as c,a as L,S as w}from"./assets/vendor-89feecc5.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function d(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=d(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",function(){const f="41611700-7d67ead1fe1a36cc390063edf",o=document.getElementById("searchForm"),d=document.getElementById("searchQuery"),n=document.getElementById("loader"),e=document.getElementById("gallery"),t=document.getElementById("loadMore");let s,i=1,y="",h=0;o.addEventListener("submit",async function(p){p.preventDefault();const l=d.value.trim();if(l===""){c.error({title:"Error",message:"Please enter a search query"});return}try{n.style.display="block";const u=(await L.get(`https://pixabay.com/api/?key=${f}&q=${l}&image_type=photo&orientation=horizontal&safesearch=true&page=${i}&per_page=40`)).data;if(n.style.display="none",u.hits.length===0)c.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!"});else{h=u.totalHits,l!==y&&(i=1,y=l,e.innerHTML=""),u.hits.forEach(r=>{const a=document.createElement("img");a.src=r.webformatURL,a.alt=r.tags,a.dataset.large=r.largeImageURL,a.dataset.title=`Likes: ${r.likes}, Views: ${r.views}, Comments: ${r.comments}, Downloads: ${r.downloads}`,a.classList.add("image-class");const m=document.createElement("a");m.href=r.largeImageURL,m.appendChild(a),e.appendChild(m)}),s.refresh(),h<=i*40?(c.info({title:"Info",message:"We're sorry, but you've reached the end of search results."}),t.style.display="none"):t.style.display="block";const E=e.firstElementChild.getBoundingClientRect().height;window.scrollTo({top:window.scrollY+E*2,behavior:"smooth"})}}catch(g){n.style.display="none",c.error({title:"Error",message:"Error fetching images. Please try again later."}),console.error("Error fetching images:",g)}}),t.addEventListener("click",async function(){await o.dispatchEvent(new Event("submit")),i+=1}),s=new w("#gallery a")});
//# sourceMappingURL=commonHelpers.js.map
